(this.webpackJsonpcollager=this.webpackJsonpcollager||[]).push([[0],[,,,,,function(e,t,a){e.exports=a(13)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(3),r=a.n(c),i=(a(10),a(4)),s=a(1),l=(a(11),a(12),function(e){for(var t=e.imgUrls,a=[],n=0;n<t.length;n++){var c=o.a.createElement("div",{className:"artist-container"},o.a.createElement("img",{src:t[n]}));a.push(c)}return a}),u=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),u=Object(s.a)(r,2),m=u[0],h=u[1];return Object(n.useEffect)((function(){if(window.location.hash){var e=window.location.hash.substring(1).split("&")[0].split("=")[1];e&&(c(e),function(e){fetch("https://api.spotify.com/v1/me/top/artists?limit=50&time_range=long_term",{method:"GET",headers:{Authorization:"Bearer "+e}}).then((function(e){return e.json()})).then((function(e){var t=[];e.items.forEach((function(e){t.push(e.images[0].url)})),h(t)})).catch((function(e){return console.error(e)}))}(e)),window.location.hash=""}}),[]),o.a.createElement("div",{className:"app"},!a&&o.a.createElement("main",{className:"login-container"},o.a.createElement("p",null,"Make a barcode collage of your favourite artists, because why not."),o.a.createElement("a",{className:"spotify-btn",href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("87c75803145f4e2899fac3058de2699c","&redirect_uri=").concat("http://localhost:3000/redirect","&scope=").concat(["user-top-read"].join("%20"),"&response_type=token&show_dialog=true")},"Login With Spotify")),a&&o.a.createElement("main",{className:"authorized-container"},o.a.createElement("header",null,o.a.createElement("button",{className:"spotify-btn",onClick:function(){for(var e=Object(i.a)(m),t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=[e[a],e[t]];e[t]=n[0],e[a]=n[1]}h(e)}},"Reorder")),o.a.createElement("div",{className:"collage-container"},o.a.createElement(l,{imgUrls:m}))))};r.a.render(o.a.createElement(u,null),document.getElementById("root"))}],[[5,1,2]]]);
//# sourceMappingURL=main.ecba9f26.chunk.js.map